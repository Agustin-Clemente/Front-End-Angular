<div class = "card mat-card" id="experience">
    <div>
    <div class="card-titles">
    <h2>Experiencia
        <!--<button class="btn-edit" routerLink="agregar-experiencia" routerLinkActive="active"> Agregar</button>-->
        
        <!--
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#agregar"></button>
        -->
    <button
  style="margin: 15px; padding: 10px"
  type="button"
  class="btn btn-primary" *ngIf="isAdmin"
  (click)="openPopup()">Agregar
</button>
</h2>
    </div>

    <br *ngIf="!isAdmin" >
    
    <div>
        <ul class="items-list ">
                <li *ngFor="let experiencia of listaExperiencia">
                <div class="data-containter  col-md-12">
                <a href="#">
                <div class="logo-image-container">
                    <img class = "logo-image" [src]="experiencia.img"/>
                </div>
            </a>
                <div class="list-info">
                   <div>
                    <h3>{{experiencia.sector}}</h3>
                    <p>{{experiencia.cargo}} ({{experiencia.jornada}})--
                    <time>{{experiencia.desde}}</time> - <time>{{experiencia.hasta}}</time></p>
                    <br>
                    <!--
                    <div class="btn-edit btn-right" (click)="abrirPopup()"> <i class="fa fa-pen"></i>
                        -->
                        <div *ngIf="isAdmin">
                            <button (click)= "onEdit(experiencia.id)" class="btn btn-info">Editar</button>
                            <!--
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="editar(experiencia)"></button>
                        
                        <button type="button" class="btn btn-primary" (click)="onEdit(experiencia.id)"  routerLink="agregar-experiencia">
                            Editar
                          </button>
                          -->
                    <fa-icon [icon]="fatimes" (click)="onDelete(experiencia.id)" class="btn-edit"></fa-icon></div>
                </div>
                </div>
                
                </div>
             
            </li>
            
        </ul>
        <!--
        <div class="" *ngIf="display==true">
            <app-agregar-experiencia></app-agregar-experiencia>
            
            </div>
            -->
    </div>

    <div
  class="modal"
  tabindex="-1"
  id="agregar"
  role="dialog"
  [ngStyle]="{'display':displayStyle}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Nueva experiencia</h4>
      </div>
      <div class="modal-body">
        <!--<p>One Stop Solution for all CS problems</p>-->
        <!--<div class="col-md-6 offset-md-3">-->
            <!--<h3 class="center">Nueva experiencia</h3>-->
            <form (ngSubmit)="onSubmit()" #cargoForm = "ngForm">
                <div class="form-group">
                    <label>Cargo: </label>
                    <input type="text" class="form-control" id="cargo" [(ngModel)]="exp.cargo" name="cargo" required placeholder="Ingrese el cargo" 
                    #cargo = "ngModel">
                    <div class = "alert alert-danger" *ngIf= "cargo.invalid && (cargo.dirty || cargo.touched)">
                        <div *ngIf= "cargo.errors?.['required']"> Ingrese el cargo</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Sector: </label>
                    <input type="text" class="form-control" id="sector" [(ngModel)]="exp.sector" name="sector" required placeholder="Ingrese el sector" 
                    #sector = "ngModel">
                    <div class = "alert alert-danger" *ngIf= "sector.invalid && (sector.dirty || sector.touched)">
                        <div *ngIf= "sector.errors?.['required']"> Ingrese el sector</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Jornada: </label>
                    <input type="text" class="form-control" id="jornada" [(ngModel)]="exp.jornada" name="jornada" required placeholder="Ingrese la jornada" 
                    #jornada = "ngModel">
                    <div class = "alert alert-danger" *ngIf= "jornada.invalid && (jornada.dirty || jornada.touched)">
                        <div *ngIf= "jornada.errors?.['required']"> Ingrese la jornada</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Desde: </label>
                    <input type="text" class="form-control" id="desde" [(ngModel)]="exp.desde" name="desde" required placeholder="Ingrese fecha de inicio" 
                    #desde = "ngModel">
                    <div class = "alert alert-danger" *ngIf= "desde.invalid && (desde.dirty || desde.touched)">
                        <div *ngIf= "desde.errors?.['required']"> Ingrese fecha de inicio</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Hasta: </label>
                    <input type="text" class="form-control" id="hasta" [(ngModel)]="exp.hasta" name="hasta" required placeholder="Ingrese fecha de fin" 
                    #hasta = "ngModel">
                    <div class = "alert alert-danger" *ngIf= "hasta.invalid && (hasta.dirty || hasta.touched)">
                        <div *ngIf= "hasta.errors?.['required']"> Ingrese fecha de fin</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Img: </label>
                    <input type="text" class="form-control" id="img" [(ngModel)]="exp.img" name="img" required placeholder="Ingrese dirección de imagen" 
                    #imagen = "ngModel">
                    <div class = "alert alert-danger" *ngIf= "imagen.invalid && (imagen.dirty || imagen.touched)">
                        <div *ngIf= "imagen.errors?.['required']"> Ingrese dirección de imagen</div>
                    </div>
                </div>
            
                <button class="btn btn-success" (click)="closePopup()" [disabled]="!cargoForm.form.valid">Guardar</button>
                <button type="button" class="btn btn-danger" 
                (click)="closePopup()">
          Cancelar
        </button>
            </form>
            
            <!--</div>-->
  
      </div>
      <!--
      <div class="modal-footer">
        <button class="btn btn-success">Guardar</button>
        <button type="button" class="btn btn-danger" 
                (click)="closePopup()">
          Cancelar
        </button>
      </div>
      -->
    </div>
  </div>
</div>
    

    <div class="modal" tabindex="-1" id="exampleModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Editar Experiencia</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form (ngSubmit)="onSubmit()" #cargoForm = "ngForm">
                    <div class="form-group">
                        <label>Cargo: </label>
                        <input type="text" class="form-control" id="cargo" [(ngModel)]="exp.cargo" name="cargo" required placeholder="Ingrese el cargo"
                        #cargo = "ngModel">
                        <div class = "alert alert-danger" *ngIf= "cargo.invalid && (cargo.dirty || cargo.touched)">
                            <div *ngIf= "cargo.errors?.['required']"> Ingrese el cargo</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Sector: </label>
                        <input type="text" class="form-control" id="sector" [(ngModel)]="exp.sector" name="sector" required placeholder="Ingrese el sector" 
                        #sector = "ngModel">
                        <div class = "alert alert-danger" *ngIf= "sector.invalid && (sector.dirty || sector.touched)">
                            <div *ngIf= "sector.errors?.['required']"> Ingrese el sector</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Jornada: </label>
                        <input type="text" class="form-control" id="jornada" [(ngModel)]="exp.jornada" name="jornada" required placeholder="Ingrese la jornada" 
                        #jornada = "ngModel">
                        <div class = "alert alert-danger" *ngIf= "jornada.invalid && (jornada.dirty || jornada.touched)">
                            <div *ngIf= "jornada.errors?.['required']"> Ingrese la jornada</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Desde: </label>
                        <input type="text" class="form-control" id="desde" [(ngModel)]="exp.desde" name="desde" required placeholder="Ingrese fecha de inicio" 
                        #desde = "ngModel">
                        <div class = "alert alert-danger" *ngIf= "desde.invalid && (desde.dirty || desde.touched)">
                            <div *ngIf= "desde.errors?.['required']"> Ingrese fecha de inicio</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Hasta: </label>
                        <input type="text" class="form-control" id="hasta" [(ngModel)]="exp.hasta" name="hasta" required placeholder="Ingrese fecha de fin" 
                        #hasta = "ngModel">
                        <div class = "alert alert-danger" *ngIf= "hasta.invalid && (hasta.dirty || hasta.touched)">
                            <div *ngIf= "hasta.errors?.['required']"> Ingrese fecha de fin</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Img: </label>
                        <input type="text" class="form-control" id="img" [(ngModel)]="exp.img" name="img" required placeholder="Ingrese dirección de imagen" 
                        #imagen = "ngModel">
                        <div class = "alert alert-danger" *ngIf= "imagen.invalid && (imagen.dirty || imagen.touched)">
                            <div *ngIf= "imagen.errors?.['required']"> Ingrese dirección de imagen</div>
                        </div>
                    </div>
                
                    <button class="btn btn-success" (click)="closePopup()" data-bs-dismiss="modal" [disabled]="!cargoForm.form.valid">Guardar</button>
                    <button type="button" class="btn btn-danger" 
                    (click)="cerrarPopup()">Cancelar</button>
                  
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-success" data-bs-dismiss="modal" (click)="onSubmit()" [disabled]="!cargoForm.form.valid">Guardar</button>
                </form>
            </div>
           
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-success" [disabled]="!cargoForm.form.valid">Guardar</button>
            </div>
         
          </div>
        </div>
      </div>
      

    
<!--<ng-template #contenido let-modal>-->

<!--
</ng-template>
-->
    
    <!--
    <div>
        <ul class="items-list">
            <li>
                <div class="data-containter col-md-12">
                <a href="#">
                <div class="logo-image-container">
                    <img class = "logo-image"
                    src="https://ens2-caba.infd.edu.ar/aula/archivos/logos/escudo.gif"/>
                </div>
            </a>
                <div class="list-info">
                   <div>
                    <h3>Burócrata</h3>
                    <p>Secretaría - <span>Jornada parcial</span> <br> <span>
                    Mar 2017 - actualidad</span> <br> <span>
                    Buenos Aires, Argentina</span> </p>
                    <div class="btn-edit btn-right"> <i class="fa fa-pen"></i>
                    <fa-icon [icon]="fatimes" (click)="onDelete()" class="btn-edit"></fa-icon>
                
                </div>
                   </div>
                </div>
                </div>
            -->
                <!-- 
                <div class="data-control">
                    <div class="btn-edit">
                        <a href="#" class="btn-right"><i class="fa fa-pen"></i></a>
                    </div>
                   
                </div>
            -->
            <!--
            </li>
        </ul>
    </div>
-->
    </div>
    </div>
